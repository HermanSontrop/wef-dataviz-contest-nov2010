<html>
  <head>
    <title>Force-Directed Layout</title>
    <script type="text/javascript" src="protovis-r3.2.js"></script>
    <script type="text/javascript" src="councils.js"></script>
    <style type="text/css">

body {
  margin: 0;
}

    </style>
  </head>
  <body>
    <script type="text/javascript+protovis">

	var w = document.body.clientWidth,
    	h = document.body.clientHeight,
		nodes = [
			{name: "Africa"},
			{name: "Ageing"},
			{name: "Anti-Corruption"},
			{name: "Automotive"},
			{name: "Aviation, Travel & Tourism"},
			{name: "Banking & Capital Markets"},
			{name: "Benchmarking Progress"},
			{name: "Catastrophic Risks"},
			{name: "China"},
			{name: "Chronic Diseases & Well-being"},
			{name: "Climate Change"},
			{name: "Competitiveness"},
			{name: "Conflict Prevention"},
			{name: "Consumer"},
			{name: "Design"},
			{name: "Ecosystems & Biodiversity"},
			{name: "Education"},
			{name: "Emerging Multinationals"},
			{name: "Emerging Technologies"},
			{name: "Employment & Social Protection"},
			{name: "Energy Security"},
			{name: "Europe & Central Asia"},
			{name: "Fiscal Crises"},
			{name: "Food Security"},
			{name: "Fragile States"},
			{name: "Future of Government"},
			{name: "Geopolitical Risk"},
			{name: "Health"},
			{name: "Human Rights"},
			{name: "Humanitarian Assistance"},
			{name: "Illicit Trade"},
			{name: "India"},
			{name: "Informed Societies"},
			{name: "Innovation"},
			{name: "Institutional Governance Systems"},
			{name: "Insurance & Asset Management"},
			{name: "Intellectual Property System"},
			{name: "International Legal System"},
			{name: "International Monetary System"},
			{name: "Internet Security"},
			{name: "Japan"},
			{name: "Korea"},
			{name: "Latin America"},
			{name: "Logistics & Supply Chain"},
			{name: "Media, Entertainment & Information"},
			{name: "Middle East & North Africa"},
			{name: "Migration"},
			{name: "Mining & Metals"},
			{name: "Next Generation"},
			{name: "North America"},
			{name: "Ocean Governance"},
			{name: "Organized Crime"},
			{name: "Population Growth"},
			{name: "Poverty & Economic Development"},
			{name: "Private Fund Managers"},
			{name: "Public & Institutional Investors"},
			{name: "Real Estate"},
			{name: "Renewable Energy"},
			{name: "Role of Business"},
			{name: "Skills & Talent Mobility"},
			{name: "Social Innovation"},
			{name: "South-East Asia"},
			{name: "Space Security"},
			{name: "Systemic Financial Risk"},
			{name: "Telecom"},
			{name: "Terrorism"},
			{name: "Trade"},
			{name: "Urbanization"},
			{name: "Values"},
			{name: "Water Security"},
			{name: "Weapons of Mass Destruction"},
			{name: "Womenâ€™s Empowerment"}],
		edges = [
			{source: 65, target: 39, value: 1},
			{source: 64, target: 50, value: 1},
			{source: 37, target: 50, value: 1},
			{source: 31, target: 17, value: 1},
			{source: 2, target: 17, value: 1},
			{source: 65, target: 70, value: 1},
			{source: 41, target: 70, value: 1},
			{source: 18, target: 36, value: 1},
			{source: 14, target: 36, value: 1},
			{source: 13, target: 14, value: 3},
			{source: 16, target: 59, value: 1},
			{source: 46, target: 59, value: 2},
			{source: 63, target: 38, value: 2},
			{source: 66, target: 38, value: 1},
			{source: 23, target: 69, value: 1},
			{source: 69, target: 69, value: 1},
			{source: 10, target: 69, value: 2},
			{source: 51, target: 30, value: 2},
			{source: 2, target: 30, value: 1},
			{source: 66, target: 30, value: 1},
			{source: 50, target: 37, value: 2},
			{source: 28, target: 37, value: 1},
			{source: 66, target: 37, value: 1},
			{source: 36, target: 29, value: 1},
			{source: 7, target: 29, value: 1},
			{source: 62, target: 29, value: 1},
			{source: 12, target: 29, value: 1},
			{source: 45, target: 65, value: 1},
			{source: 70, target: 65, value: 4},
			{source: 28, target: 24, value: 2},
			{source: 47, target: 24, value: 1},
			{source: 41, target: 24, value: 2},
			{source: 60, target: 48, value: 1},
			{source: 32, target: 48, value: 1},
			{source: 25, target: 48, value: 1},
			{source: 44, target: 48, value: 1},
			{source: 68, target: 48, value: 1},
			{source: 16, target: 71, value: 1},
			{source: 71, target: 71, value: 1},
			{source: 21, target: 71, value: 1},
			{source: 52, target: 71, value: 2},
			{source: 21, target: 20, value: 1},
			{source: 8, target: 20, value: 1},
			{source: 50, target: 20, value: 1},
			{source: 10, target: 20, value: 1},
			{source: 18, target: 20, value: 1},
			{source: 26, target: 20, value: 1},
			{source: 60, target: 19, value: 1},
			{source: 41, target: 19, value: 1},
			{source: 1, target: 19, value: 2},
			{source: 16, target: 19, value: 1},
			{source: 23, target: 19, value: 1},
			{source: 37, target: 28, value: 2},
			{source: 49, target: 28, value: 1},
			{source: 46, target: 28, value: 1},
			{source: 32, target: 28, value: 1},
			{source: 65, target: 28, value: 1},
			{source: 40, target: 60, value: 1},
			{source: 9, target: 60, value: 1},
			{source: 1, target: 60, value: 1},
			{source: 33, target: 60, value: 1},
			{source: 14, target: 60, value: 2},
			{source: 11, target: 6, value: 1},
			{source: 9, target: 6, value: 1},
			{source: 19, target: 6, value: 1},
			{source: 60, target: 6, value: 3},
			{source: 37, target: 46, value: 1},
			{source: 52, target: 46, value: 1},
			{source: 59, target: 46, value: 1},
			{source: 67, target: 46, value: 2},
			{source: 30, target: 46, value: 2},
			{source: 50, target: 52, value: 1},
			{source: 3, target: 52, value: 1},
			{source: 1, target: 52, value: 1},
			{source: 56, target: 52, value: 2},
			{source: 67, target: 52, value: 1},
			{source: 23, target: 52, value: 1},
			{source: 62, target: 32, value: 1},
			{source: 45, target: 32, value: 1},
			{source: 25, target: 32, value: 1},
			{source: 44, target: 32, value: 1},
			{source: 63, target: 32, value: 1},
			{source: 64, target: 32, value: 1},
			{source: 39, target: 32, value: 1},
			{source: 3, target: 67, value: 2},
			{source: 26, target: 67, value: 1},
			{source: 56, target: 67, value: 3},
			{source: 52, target: 67, value: 1},
			{source: 60, target: 68, value: 1},
			{source: 40, target: 68, value: 1},
			{source: 32, target: 68, value: 1},
			{source: 50, target: 68, value: 1},
			{source: 33, target: 68, value: 1},
			{source: 44, target: 68, value: 1},
			{source: 68, target: 68, value: 1},
			{source: 66, target: 22, value: 1},
			{source: 19, target: 22, value: 1},
			{source: 8, target: 22, value: 1},
			{source: 5, target: 22, value: 1},
			{source: 7, target: 22, value: 1},
			{source: 63, target: 22, value: 2},
			{source: 0, target: 22, value: 1},
			{source: 29, target: 7, value: 2},
			{source: 33, target: 7, value: 1},
			{source: 65, target: 7, value: 1},
			{source: 68, target: 7, value: 1},
			{source: 26, target: 7, value: 2},
			{source: 70, target: 7, value: 1},
			{source: 30, target: 51, value: 7},
			{source: 71, target: 51, value: 1},
			{source: 49, target: 2, value: 1},
			{source: 51, target: 2, value: 2},
			{source: 31, target: 2, value: 3},
			{source: 53, target: 2, value: 1},
			{source: 47, target: 2, value: 1},
			{source: 68, target: 2, value: 1},
			{source: 39, target: 2, value: 1},
			{source: 52, target: 1, value: 2},
			{source: 40, target: 1, value: 2},
			{source: 19, target: 1, value: 1},
			{source: 11, target: 1, value: 1},
			{source: 31, target: 1, value: 1},
			{source: 14, target: 1, value: 1},
			{source: 35, target: 1, value: 1},
			{source: 48, target: 1, value: 1},
			{source: 60, target: 12, value: 1},
			{source: 62, target: 12, value: 3},
			{source: 31, target: 12, value: 1},
			{source: 47, target: 12, value: 1},
			{source: 65, target: 12, value: 2},
			{source: 68, target: 12, value: 1},
			{source: 28, target: 12, value: 1},
			{source: 26, target: 12, value: 1},
			{source: 17, target: 58, value: 1},
			{source: 55, target: 58, value: 1},
			{source: 51, target: 58, value: 1},
			{source: 41, target: 58, value: 1},
			{source: 10, target: 58, value: 1},
			{source: 33, target: 58, value: 2},
			{source: 68, target: 58, value: 2},
			{source: 70, target: 58, value: 2},
			{source: 2, target: 58, value: 1},
			{source: 13, target: 66, value: 1},
			{source: 8, target: 66, value: 1},
			{source: 25, target: 66, value: 1},
			{source: 50, target: 66, value: 1},
			{source: 20, target: 66, value: 1},
			{source: 43, target: 66, value: 5},
			{source: 53, target: 66, value: 1},
			{source: 61, target: 66, value: 1},
			{source: 4, target: 66, value: 1},
			{source: 49, target: 63, value: 1},
			{source: 5, target: 63, value: 2},
			{source: 38, target: 63, value: 5},
			{source: 22, target: 63, value: 2},
			{source: 35, target: 63, value: 3},
			{source: 56, target: 63, value: 1},
			{source: 69, target: 23, value: 9},
			{source: 53, target: 23, value: 3},
			{source: 44, target: 23, value: 1},
			{source: 18, target: 23, value: 1},
			{source: 36, target: 23, value: 1},
			{source: 7, target: 23, value: 1},
			{source: 60, target: 9, value: 2},
			{source: 27, target: 9, value: 5},
			{source: 6, target: 9, value: 2},
			{source: 1, target: 9, value: 5},
			{source: 48, target: 9, value: 1},
			{source: 64, target: 9, value: 1},
			{source: 37, target: 25, value: 1},
			{source: 58, target: 25, value: 1},
			{source: 32, target: 25, value: 3},
			{source: 11, target: 25, value: 1},
			{source: 38, target: 25, value: 1},
			{source: 24, target: 25, value: 1},
			{source: 22, target: 25, value: 2},
			{source: 61, target: 25, value: 1},
			{source: 63, target: 25, value: 1},
			{source: 28, target: 25, value: 1},
			{source: 67, target: 25, value: 2},
			{source: 34, target: 25, value: 1},
			{source: 37, target: 34, value: 4},
			{source: 66, target: 34, value: 1},
			{source: 58, target: 34, value: 1},
			{source: 27, target: 34, value: 1},
			{source: 55, target: 34, value: 2},
			{source: 51, target: 34, value: 1},
			{source: 25, target: 34, value: 4},
			{source: 50, target: 34, value: 1},
			{source: 53, target: 34, value: 1},
			{source: 14, target: 34, value: 1},
			{source: 2, target: 34, value: 1},
			{source: 52, target: 26, value: 1},
			{source: 40, target: 26, value: 1},
			{source: 62, target: 26, value: 1},
			{source: 8, target: 26, value: 1},
			{source: 55, target: 26, value: 1},
			{source: 45, target: 26, value: 1},
			{source: 31, target: 26, value: 1},
			{source: 41, target: 26, value: 2},
			{source: 20, target: 26, value: 1},
			{source: 24, target: 26, value: 1},
			{source: 65, target: 26, value: 1},
			{source: 26, target: 26, value: 1},
			{source: 4, target: 26, value: 1},
			{source: 30, target: 26, value: 1},
			{source: 70, target: 26, value: 2},
			{source: 34, target: 26, value: 1},
			{source: 49, target: 11, value: 1},
			{source: 40, target: 11, value: 1},
			{source: 46, target: 11, value: 1},
			{source: 71, target: 11, value: 1},
			{source: 8, target: 11, value: 1},
			{source: 5, target: 11, value: 1},
			{source: 17, target: 11, value: 3},
			{source: 6, target: 11, value: 2},
			{source: 45, target: 11, value: 1},
			{source: 59, target: 11, value: 2},
			{source: 33, target: 11, value: 1},
			{source: 16, target: 11, value: 1},
			{source: 4, target: 11, value: 1},
			{source: 0, target: 11, value: 1},
			{source: 8, target: 18, value: 1},
			{source: 32, target: 18, value: 2},
			{source: 11, target: 18, value: 1},
			{source: 33, target: 18, value: 3},
			{source: 54, target: 18, value: 1},
			{source: 44, target: 18, value: 2},
			{source: 36, target: 18, value: 1},
			{source: 7, target: 18, value: 1},
			{source: 16, target: 18, value: 1},
			{source: 23, target: 18, value: 1},
			{source: 64, target: 18, value: 1},
			{source: 70, target: 18, value: 2},
			{source: 39, target: 18, value: 2},
			{source: 60, target: 16, value: 1},
			{source: 19, target: 16, value: 2},
			{source: 71, target: 16, value: 2},
			{source: 32, target: 16, value: 2},
			{source: 9, target: 16, value: 2},
			{source: 11, target: 16, value: 1},
			{source: 45, target: 16, value: 2},
			{source: 42, target: 16, value: 1},
			{source: 59, target: 16, value: 1},
			{source: 53, target: 16, value: 1},
			{source: 33, target: 16, value: 1},
			{source: 14, target: 16, value: 2},
			{source: 44, target: 16, value: 4},
			{source: 61, target: 16, value: 1},
			{source: 68, target: 16, value: 3},
			{source: 16, target: 16, value: 1},
			{source: 48, target: 16, value: 6},
			{source: 0, target: 16, value: 1},
			{source: 60, target: 33, value: 2},
			{source: 40, target: 33, value: 2},
			{source: 62, target: 33, value: 2},
			{source: 13, target: 33, value: 3},
			{source: 9, target: 33, value: 3},
			{source: 17, target: 33, value: 2},
			{source: 27, target: 33, value: 1},
			{source: 11, target: 33, value: 2},
			{source: 55, target: 33, value: 1},
			{source: 10, target: 33, value: 2},
			{source: 59, target: 33, value: 1},
			{source: 14, target: 33, value: 6},
			{source: 44, target: 33, value: 2},
			{source: 18, target: 33, value: 2},
			{source: 36, target: 33, value: 3},
			{source: 67, target: 33, value: 1},
			{source: 48, target: 33, value: 2},
			{source: 60, target: 53, value: 2},
			{source: 52, target: 53, value: 1},
			{source: 66, target: 53, value: 1},
			{source: 19, target: 53, value: 1},
			{source: 29, target: 53, value: 1},
			{source: 9, target: 53, value: 3},
			{source: 27, target: 53, value: 1},
			{source: 11, target: 53, value: 1},
			{source: 6, target: 53, value: 4},
			{source: 51, target: 53, value: 1},
			{source: 42, target: 53, value: 1},
			{source: 25, target: 53, value: 1},
			{source: 15, target: 53, value: 1},
			{source: 1, target: 53, value: 1},
			{source: 33, target: 53, value: 1},
			{source: 47, target: 53, value: 1},
			{source: 24, target: 53, value: 1},
			{source: 44, target: 53, value: 1},
			{source: 7, target: 53, value: 1},
			{source: 65, target: 53, value: 1},
			{source: 67, target: 53, value: 2},
			{source: 16, target: 53, value: 1},
			{source: 48, target: 53, value: 1},
			{source: 4, target: 53, value: 1},
			{source: 23, target: 53, value: 3},
			{source: 64, target: 53, value: 2},
			{source: 30, target: 53, value: 2},
			{source: 0, target: 53, value: 2},
			{source: 2, target: 53, value: 1},
			{source: 37, target: 10, value: 1},
			{source: 69, target: 10, value: 1},
			{source: 52, target: 10, value: 2},
			{source: 66, target: 10, value: 1},
			{source: 29, target: 10, value: 4},
			{source: 13, target: 10, value: 1},
			{source: 50, target: 10, value: 1},
			{source: 15, target: 10, value: 3},
			{source: 3, target: 10, value: 3},
			{source: 10, target: 10, value: 1},
			{source: 20, target: 10, value: 4},
			{source: 43, target: 10, value: 2},
			{source: 53, target: 10, value: 2},
			{source: 47, target: 10, value: 1},
			{source: 24, target: 10, value: 1},
			{source: 57, target: 10, value: 2},
			{source: 18, target: 10, value: 2},
			{source: 61, target: 10, value: 2},
			{source: 7, target: 10, value: 4},
			{source: 67, target: 10, value: 1},
			{source: 4, target: 10, value: 4},
			{source: 23, target: 10, value: 2},
			{source: 34, target: 10, value: 2}],
		r = 150,
		c = pv.Scale.linear(0, 7).range('#FDE', '#548') 
		centerX = h / 2,
		centerY = w / 2;

	function getLineData(index, target, value) {
		return [
			{ 
				x: (w / 2 + (r - 0) * Math.sin(Math.PI * 2 * index / nodes.length)),
				y: (h / 2 + (r - 0) * Math.cos(Math.PI * 2 * index / nodes.length))
			}, 
			{ x: w / 2, y: h / 2 },
			{
				x: (w / 2 + r + 00 * Math.sin(Math.PI * 2 * target / nodes.length)),
				y: (h / 2 + r + 00 * Math.cos(Math.PI * 2 * target / nodes.length))
			}
		]
	}
	
	function generateLineData() {
		var lineData = new Array()
		for (i = 0; i < edges.length; i++) {
			lineData[i] = getLineData(edges[i].source, edges[i].target)
		}
		return lineData
	}

	var vis = new pv.Panel()
    	.width(w)
    	.height(h)
		
	vis.add(pv.Mark)
	 	.data(nodes)
		.bottom(function(d) centerX + (r - 0) * Math.cos(Math.PI * 1.5 * this.index / nodes.length ))
		.left(function() centerY + r * Math.sin(Math.PI * 1.5 * this.index / nodes.length ))
	  .anchor("left")
	  .add(pv.Label)
		.text(function(d) d.name)
		.textAngle(function() -0.5 * Math.PI + 1.5 * Math.PI * this.index / nodes.length)
	
	vis.add(pv.Panel)
		.data(function() generateLineData())
	  .add(pv.Line)
		.data(function(array) array)
		.bottom(function(d) d.y)
		.left(function(d) d.x)
		.lineWidth(function() edges[this.parent.index].value * 1.5)
		.strokeStyle(function() c(edges[this.parent.index].value).alpha(.5))
		.interpolate("basis")
	  .add(pv.Dot)

	vis.render();	

    </script>
  </body>
</html>